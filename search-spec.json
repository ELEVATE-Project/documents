const { response } = require("express")

JOBS - 

{
    "context": {
        "domain": "jobs",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "1.0.0-draft",
        "bap_id": "https://exampleapp.io/",
        "bap_uri": "https://api.exampleapp.io/uhi/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z"
    },
    "message": {
        "intent": {
            "provider": {
                "descriptor": {
                    "name" : "Namma Metro"
                },
                "rating" : ">4"
            },
            "item" : {
                "descriptor" : {
                    "name" : "Metal and Wood Worker"
                }
            },
            "category" : {
                "descriptor" : {
                    "name" : "Manufacturing"
                }
            },
            "fulfillment": {
                "type" : "part-time",
                "start": {
                    "time": {
                        "timestamp": "2021-03-23"
                    },
                    "location" : {
                        "city" : "std:080"
                    }
                },
                "customer" : {
                    "person" : {
                        "skills" : [
                            {
                                "descriptor" : {
                                    "name" : "Lathe",
                                    "short_desc" : "I have experience Machining using CNC and Lathe",
                                    "video" : "https://youtube.com/john-doe/9328kjed29382"
                                }
                            },
                            {
                                "descriptor" : {
                                    "name" : "Carpentry",
                                    "short_desc" : "I have experience with carpentry",
                                    "video" : "https://youtube.com/john-doe/ksji83oil23"
                                }
                            }
                        ],
                        "experience" : "12Y"
                    }
                }
            },
            "payment" : {
                "params" : {
                    "amount" : "20000",
                    "currency" : "INR/month"
                }
            }
        }
    }
 }

 
Mentoring - 

 {
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z"
    },
    "message": {
        "intent": {
            "item" : {
                "descriptor" : {
                    "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
                }
            },
            "descriptor" : {
                "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
            },
            "fulfillment" : {
                "type" : "ONLINE"
            },
            "provider" : {
                "location" : [
                    {
                        "gps" : "22.394834,77.9822309"
                    }
                ]
            }
        }
    }
 }



Search for Session - 

"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    }
}

Question - In case a mentoring session is a 1-1 like a doctor appointment , is item an individual slot by the mentor or is the availability of Mentor in a day an each item?

Answer - Each slot of mentor becomes a fulfillment, each slot becomes a fulfillment , each item in current schema can have only 1 fulfillment_id so we repeat the items with same id but different fulfillment_id 
In 1.0 it might come in the core spec that each item can fulfillment_id as array 


Search for Mentor - 

"intent": {
    "descriptor" : {
        "name" : "C N Rao" // Raw user search query - E.g. mentor name
    },
    "fulfillment" : {
        "agent" : {
            "name" : "C N Rao" // Raw user search query - E.g. mentor name
        }
    }
}



Search for Session from a particular organisation - 
"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    }
}



Search for Session for a particular duration -

"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H" // String value for time duration
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    }
}

Search for Session from a particular start date and end date in case of offline - 


"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
    }
}



Search for Session from based on if its synchronous or asynchronous - 


"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "tags" : {
            "mode" : "synchronous/asynchronous" // Live sessions are synchronous everything else is asynchronous.
        }
    }
}





Search for Session whether there will be a certificate issued at the end of the session/course - 

"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        },
        "certificates" : [
            {
                "type" : "NOC/ATTENDANCE/COMPLETION" // can be Enum ? // Can be an attribute at the end of fulfillment or an item attribute , discuss with Dr Pramod, possibly multiple certificates can be issued by availing this item?
            }
        ]
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "tags" : {
            "mode" : "synchronous/asynchronous" // Live sessions are synchronous everything else is asynchronous.
        }
    }
}


Search for Session based on Mentor rating - 


"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        },
        "tags" : {
            "certificateAttached" : true
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "tags" : {
            "mode" : "synchronous/asynchronous" // Live sessions are synchronous everything else is asynchronous.
        },
        "agent" {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "tags" : {
                "rating" : "4" // Mentor Rating will come here
            }
        }
    }
}



Search for Session which are Free (How do we put a filter of paid ? And if need be specify session price range.) - 


"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        },
        "tags" : {
            "certificateAttached" : true
        },
        "price" : { // Use the price schema
            "value" : "6000-10000" // How do we put a filter of paid ? And if need be specify session price range.
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "tags" : {
            "mode" : "synchronous/asynchronous" // Live sessions are synchronous everything else is asynchronous.
        },
        "agent" {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "tags" : {
                "rating" : "4" // Mentor Rating will come here
            }
        }
    }
}




Search for Session based on language (Should there be a key in the core spec for language at item level) - 


"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        },
        "tags" : {
            "certificateAttached" : true,
            "language" : [ // User can pass multiple language codes. It should be part of fulfillment, we can add a attribute and not a tag, can discuss and decide.
                "en",
                "hi"
            ]
        },
        "price" : {
            "value" : "0" // How do we put a filter of paid ? And if need be specify session price range.
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "tags" : {
            "mode" : "synchronous/asynchronous" // Live sessions are synchronous everything else is asynchronous.
        },
        "agent" {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "tags" : {
                "rating" : "4" // Mentor Rating will come here
            }
        }
    }
}




Search for offline session based on location - 


"intent": {
    "item" : {
        "descriptor" : {
            "name" : "10th Std Mathematics" // Session name goes here if user is directly searching sessions
        },
        "time" : {
            "duration" : "P1H", // String value for time duration
            "range" : {
                "start" : "2022-07-21T09:35:31.820Z", // Session start date and time
                "end" : "2022-07-21T10:35:31.820Z" // Session end date and time
            }
        },
        "tags" : {
            "certificateAttached" : true,
            "language" : [ // User can pass multiple language codes.
                "en",
                "hi"
            ]
        },
        "price" : {
            "value" : "0" // How do we put a filter of paid ? And if need be specify session price range.
        }
    },
    "descriptor" : {
        "name" : "10th Std Mathematics" // Raw user search query - E.g. mentor name or session name
    },
    "provider" : {
        "descriptor": {
            "name" : "NCTE or CBSE" // Organisation which is publishing the session
        },
        "rating" : ">4"
    },
    "fulfillment": {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "address" : {
            "full" : "Full Address",
            "door" : "Door No Address",
            "name" : "Name on the Address",
            "building" : "Full Address",
            "street" : "Street Address",
            "locality" : "Locality",
            "ward" : "Ward Name or Number",
            "city" : "City",
            "state" : "State",
            "country" : "Country Code",
            "area_code" : "Area Code" 
        },
        "tags" : {
            "mode" : "synchronous/asynchronous" // Live sessions are synchronous everything else is asynchronous.
        },
        "agent" {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "tags" : {
                "rating" : "4" // Mentor Rating will come here
            }
        }
    }
}


Search for Mentor by Skill/Area Of Expertise - 

"intent": {
    "descriptor" : {
        "name" : "Experts in Mathematics" // Raw user search query - E.g. mentor expertiese in
    },
    "fulfillment" : {
        "agent" : {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "skills": [ // Skill or area of expertiese of Mentor delivering the session, makes sense it can be part of the core schema.
                {
                    "descriptor": {
                        "name": "Maths"
                    }
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    },
                    "credentials" : { // If there is a hard requirement for verified skills.

                    }
                }
            ]
        }
    }
}


Search for Mentor by Gender - 

"intent": {
    "descriptor" : {
        "name" : "Experts in Mathematics" // Raw user search query - E.g. mentor expertiese in
    },
    "fulfillment" : {
        "agent" : {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "gender" : "male", // Gender of the mentor
            "skills": [ // Skill or area of expertiese of Mentor delivering the session
                {
                    "descriptor": {
                        "name": "Maths"
                    }
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    }
                }
            ]
        }
    }
}


Search for Mentor by Rating


"intent": {
    "descriptor" : {
        "name" : "Experts in Mathematics" // Raw user search query - E.g. mentor expertiese in
    },
    "fulfillment" : {
        "agent" : {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "gender" : "male", // Gender of the mentor
            "skills": [ // Skill or area of expertiese of Mentor delivering the session
                {
                    "descriptor": {
                        "name": "Maths"
                    }
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    }
                }
            ],
            "tags" : {
                "rating" : "4" // Mentor Rating will come here
            }
        }
    }
}


Search for Mentor by Categories :- 

// Category can be passed after the 1st response since it cannot be standardised, skills is a better way to go forward.
// BPP can be a platform who has multiple providers belonging to different sectors.

"context": {
    "domain": "mentoring",
    "subDomain" : "sports/technology/healthcare/cooking" // Since scope mentoring is vast there can be BPPs with specific domain in Mentoring
    "country": "IND",
    "city": "std:080",
    "action": "search",
    "core_version": "0.9.3",
    "bap_id": "exampleapp.io",
    "bap_uri": "https://api.exampleapp.io/dsep/v0/",
    "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
    "timestamp": "2021-03-23T10:00:40.065Z"
},
"intent": {
    "descriptor" : {
        "name" : "Experts in Mathematics in Education" // Raw user search query - E.g. mentor expertiese in
    },
    "category" : { // When looking for experts in a particular sector and in a category.
        "name" : "technology",
        "code" : "IT",
        "parent_category_id" : "1"
    },
    "fulfillment" : {
        "agent" : {
            "name" : "C N Rao", // Raw user search query - E.g. mentor name
            "gender" : "male", // Gender of the mentor
            "skills": [ // Skill or area of expertiese of Mentor delivering the session
                {
                    "descriptor": {
                        "name": "Maths"
                    }
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    }
                }
            ],
            "tags" : {
                "rating" : "4" // Mentor Rating will come here
            }
        }
    }
}


Search for Mentor by Institute :- 


"intent": {
    "descriptor" : {
        "name" : "Professor ABC from FTIJEE" // Raw user search query - E.g. mentor expertiese in
    },
    "provider" : {
        "descriptor": {
            "name" : "FITJEE" // Organisation which the mentor belongs to
        }
    },
    "fulfillment" : {
        "agent" : {
            "name" : "Professor ABC from FTIJEE" // Raw user search query - E.g. mentor name
        }
    }
}


Search for Mentor by Work Experience :- 


"intent": {
    "descriptor" : {
        "name" : "Professor ABC from FTIJEE" // Raw user search query - E.g. mentor expertiese in
    },
    "provider" : {
        "descriptor": {
            "name" : "FITJEE" // Organisation which the mentor belongs to
        }
    },
    "fulfillment" : {
        "agent" : {
            "name" : "Professor ABC from FTIJEE", // Raw user search query - E.g. mentor name
            "skills": [ // Skill or area of expertiese of Mentor delivering the session
                {
                    "descriptor": {
                        "name": "Maths"
                    },
                    "experience" : ">10"
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    },
                    "experience" : ">5"
                }
            ],
        }
    }
}

Search for Mentor who is available online/offline in a particular location:-

"intent": {
    "descriptor" : {
        "name" : "Professor ABC from FTIJEE" // Raw user search query - E.g. mentor expertiese in
    },
    "provider" : {
        "descriptor": {
            "name" : "FITJEE" // Organisation which the mentor belongs to
        }
    },
    "fulfillment" : {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "address" : {
            "full" : "Full Address",
            "door" : "Door No Address",
            "name" : "Name on the Address",
            "building" : "Full Address",
            "street" : "Street Address",
            "locality" : "Locality",
            "ward" : "Ward Name or Number",
            "city" : "City",
            "state" : "State",
            "country" : "Country Code",
            "area_code" : "Area Code" 
        },
        "agent" : {
            "name" : "Professor ABC from FTIJEE", // Raw user search query - E.g. mentor name
            "skills": [ // Skill or area of expertiese of Mentor delivering the session
                {
                    "descriptor": {
                        "name": "Maths"
                    },
                    "experience" : ">10"
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    },
                    "experience" : ">5"
                }
            ],
        }
    }
}



Search for Mentor based on their language :- 

"intent": {
    "descriptor" : {
        "name" : "Professor ABC from FTIJEE" // Raw user search query - E.g. mentor expertiese in
    },
    "provider" : {
        "descriptor": {
            "name" : "FITJEE" // Organisation which the mentor belongs to
        }
    },
    "fulfillment" : {
        "type" : "online/offline", // Whether or not session is conducted online or offline.
        "address" : {
            "full" : "Full Address",
            "door" : "Door No Address",
            "name" : "Name on the Address",
            "building" : "Full Address",
            "street" : "Street Address",
            "locality" : "Locality",
            "ward" : "Ward Name or Number",
            "city" : "City",
            "state" : "State",
            "country" : "Country Code",
            "area_code" : "Area Code" 
        },
        "agent" : {
            "name" : "Professor ABC from FTIJEE", // Raw user search query - E.g. mentor name
            "skills": [ // Skill or area of expertiese of Mentor delivering the session
                {
                    "descriptor": {
                        "name": "Maths"
                    },
                    "experience" : ">10"
                },
                {
                    "descriptor": {
                        "name": "Algebra"
                    },
                    "experience" : ">5"
                }
            ],
            "tags" : {
                "language" : [ // User can pass multiple language codes.
                    "en",
                    "hi"
                ]
            }
        }
    }
}






On Search Schema for Sessions - 

https://app.swaggerhub.com/apis-docs/beckn/beckn-protocol-core-specification/1.0.0-draft#/Beckn%20App%20Platform%20(BAP)/post_on_search

Define provider, item and fulfillment and the relationship between them ?
Can a BPP have multiple providers?
Can a Item have multiple fulfillment ids ?
Why does a fulfillment object have a provider id, given that it falls under a provider only ?
How can we map an item to multiple category?

https://github.com/beckn/DSEP-Specification/discussions/34


    {
        "context": {
            "domain": "mentoring",
            "country": "IND",
            "city": "std:080",
            "action": "search",
            "core_version": "0.9.3",
            "bpp_id": "exampleapp.io",
            "bpp_uri": "https://api.exampleapp.io/dsep/v0/",
            "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
            "timestamp": "2021-03-23T10:00:40.065Z"
        },
        "message": {
            "catalog": {
                "bpp/descriptor": {
                    "name": "NCTE"
                },
                "bpp/categories":[
                    {
                        "id":"123",
                        "description":"",
                        "descriptor": {
                            "name":"Education Leadership",
                            "code":"EL"
                        }
                    }
                ],
                "bpp/providers": [
                    {
                        "descriptor": {
                            "name": "CBSE"
                        },
                        "categories": [],
                        "items": [
                            {
                                "id" : "1",
                                "category_id" : "123",
                                "descriptor": {
                                    "name": "10th Std Mathematics",
                                    "code" : "X-MATH-CBSE",
                                    "short_desc" : "10th Standard Mathematics (CBSE) lecture",
                                    "long_desc" : "10th Standard Mathematics (CBSE) lecture",
                                    "images" : [
                                        "https://google.com/images/image1.png"
                                    ]
                                },
                                "fulfillment_id": "1",
                                "price": {
                                    "value": "0"
                                },
                                "tags" : {
                                    "recommended_for" : [
                                        "HM",
                                        "Principals",
                                        "Teachers"
                                    ]
                                }
                                "matched": true
                            }
                        ]
                    }
                ],
                "fulfillments": [
                    {
                        "id": "1",
                        "type": "ONLINE",
                        "language" : [ // It's a new field, that conveys how the session will be delivered, can be used for any service.
                            "hi",
                            "en"
                        ]
                        "descriptor": {
                            "name": "Full-time"
                        },
                        "tags": {
                            "status" : "Live/Published",
                            "timeZone" : ""
                        },
                        "agent": {
                            "name" : "Dr Rajiv Manocha",
                            "image": "https://srf",
                            "gender": "M",
                            "tags" : {
                                "subjects" : [
                                    "maths", 
                                    "physics"
                                ],
                                "grades" : "X, XI, XII",
                                "boards" : "CBSE, ICSE",
                                "rating": "5"
                            }
                        },
                        "start": { // Will be in UTC
                            "time": {
                                "timestamp": "2021-03-23T10:00:40.065Z"
                            }
                        },
                        "end": { // Will be in UTC
                            "time": {
                                "timestamp": "2021-03-23T10:00:40.065Z"
                            }
                        }
                    }
                ]
            }
        }
    }




On Search Schema for Mentors - 


    {
        "context": {
            "domain": "mentoring",
            "country": "IND",
            "city": "std:080",
            "action": "search",
            "core_version": "0.9.3",
            "bpp_id": "exampleapp.io",
            "bpp_uri": "https://api.exampleapp.io/dsep/v0/",
            "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
            "timestamp": "2021-03-23T10:00:40.065Z"
        },
        "message": {
            "catalog": {
                "bpp/descriptor": {
                    "name": "NCTE"
                },
                "bpp/categories":[
                    {
                        "id":"123",
                        "description":"",
                        "descriptor": {
                            "name":"Education Leadership",
                            "code":"EL"
                        }
                    }
                ],
                "bpp/providers": [
                    {
                        "descriptor": {
                            "name": "CBSE"
                        },
                        "categories": [],
                        "items": [
                            {
                                "id" : "1",
                                "category_id" : "123",
                                "descriptor": {
                                    "name": "10th Std Mathematics",
                                    "code" : "X-MATH-CBSE",
                                    "short_desc" : "10th Standard Mathematics (CBSE) lecture",
                                    "long_desc" : "10th Standard Mathematics (CBSE) lecture",
                                    "images" : [
                                        "https://google.com/images/image1.png"
                                    ]
                                },
                                "fulfillment_id": "1",
                                "price": {
                                    "value": "0"
                                },
                                "tags" : {
                                    "recommended_for" : [
                                        "HM",
                                        "Principals",
                                        "Teachers"
                                    ]
                                }
                                "matched": true
                            }
                        ]
                    }
                ],
                "fulfillments": [
                    {
                        "id": "1",
                        "type": "ONLINE",
                        "language" : [ // It's a new field, that conveys how the session will be delivered, can be used for any service.
                            "hi",
                            "en"
                        ]
                        "descriptor": {
                            "name": "Full-time"
                        },
                        "tags": {
                            "status" : "Live/Published",
                            "timeZone" : ""
                        },
                        "agent": {
                            "name" : "Dr Rajiv Manocha",
                            "image": "https://srf",
                            "gender": "M",
                            "tags" : {
                                "subjects" : [
                                    "maths", 
                                    "physics"
                                ],
                                "grades" : "X, XI, XII",
                                "boards" : "CBSE, ICSE",
                                "rating": "5"
                            }
                        },
                        "start": { // Will be in UTC
                            "time": {
                                "timestamp": "2021-03-23T10:00:40.065Z"
                            }
                        },
                        "end": { // Will be in UTC
                            "time": {
                                "timestamp": "2021-03-23T10:00:40.065Z"
                            }
                        }
                    }
                ]
            }
        }
    }



Init for session - Mentee wants to enroll in a session - Minimum information required by BPP to enroll a user into a session


{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
            "items" : [
                {
                    "id" : "121"
                }
            ],
            "fulfillments": [
                {
                    "id": "1"
                }
            ],
            "billing": {
                "name": "Akash",
                "phone": "1234567890",
                "email": "abc@gmail.com",
                "time" : {
                    "timezone" : "IST"
                }
            }
        }
    }
}


On init for a session - BPP gets back if the session is still open for enrollment


{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424" // Leave it blank if init is not successful, since there is no status key ? Should we add a new status key ?
        }
    }
}


Confirm a session - BAP sends a request to BPP to confirm the mentee for the session.


{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
            "items" : [
                {
                    "id" : "121"
                }
            ],
            "fulfillments": [
                {
                    "id": "1"
                }
            ],
            "billing": {
                "name": "Akash",
                "phone": "1234567890",
                "email": "abc@gmail.com",
                "time" : {
                    "timezone" : "IST"
                }
            }
        }
    }
}



On Confirm for a session - BPP sends the session link to BAP


{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": { 
        "order": {
            "id": "123442424", // Leave it blank if init is not successful, since there is no status key ? Should we add a new status key ?
            "fulfillments": [
                {
                    "id": "1",
                    "type": "ONLINE",
                    "language" : [ // It's a new field, that conveys how the session will be delivered, can be used for any service.
                        "hi",
                        "en"
                    ]
                    "descriptor": {
                        "name": "Full-time"
                    },
                    "tags": {
                        "link": "https://join.session.com/123", // Session Link
                    },
                    "agent": {
                        "name" : "Dr Rajiv Manocha",
                        "image": "https://srf",
                        "gender": "M",
                        "tags" : {
                            "subjects" : [
                                "maths", 
                                "physics"
                            ],
                            "grades" : "X, XI, XII",
                            "boards" : "CBSE, ICSE",
                            "rating": "5"
                        }
                    },
                    "start": { // Will be in UTC
                        "time": {
                            "timestamp": "2021-03-23T10:00:40.065Z"
                        }
                    },
                    "end": { // Will be in UTC
                        "time": {
                            "timestamp": "2021-03-23T10:00:40.065Z"
                        }
                    }
                }
            ]
            
        }
    }
}



Mentee wants to un enroll a session - 

{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
        },
        "cancellation_reason_id": "1",
        "descriptor": {
            "name": "Clash with an existing appointment"
        }
    }
}


BPP confirms a mentee un enroll for a session - 

{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
        }
    }
}


Mentee wants to update his contact details for a session - 


{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "update_target" : "billing",
        "order": {
            "id": "123442424",
            "billing": {
                "name": "Akash New Name",
                "phone": "1234567890",
                "email": "abc@gmail.com",
                "time" : {
                    "timezone" : "IST"
                }
            }
        }
    }
}



BPP confirms a an update on metee info for a session - 

{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
        }
    }
}


BAP requests for a latest status on the session which Mentee has enrolled into - 

{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
        }
    }
}

BPP provides the latest status for a session - 


{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "order": {
            "id": "123442424",
            "items": [
                {
                    "id" : "1",
                    "category_id" : "123",
                    "descriptor": {
                        "name": "10th Std Mathematics",
                        "code" : "X-MATH-CBSE",
                        "short_desc" : "10th Standard Mathematics (CBSE) lecture",
                        "long_desc" : "10th Standard Mathematics (CBSE) lecture",
                        "images" : [
                            "https://google.com/images/image1.png"
                        ]
                    },
                    "fulfillment_id": "1",
                    "price": {
                        "value": "0"
                    },
                    "tags" : {
                        "recommended_for" : [
                            "HM",
                            "Principals",
                            "Teachers"
                        ]
                    }
                    "matched": true
                }
            ],
            "fulfillments": [
                {
                    "id": "1",
                    "type": "ONLINE",
                    "language" : [ // It's a new field, that conveys how the session will be delivered, can be used for any service.
                        "hi",
                        "en"
                    ]
                    "descriptor": {
                        "name": "Full-time"
                    },
                    "tags": {
                        "status" : "Live/Published",
                        "timeZone" : ""
                    },
                    "agent": {
                        "name" : "Dr Rajiv Manocha",
                        "image": "https://srf",
                        "gender": "M",
                        "tags" : {
                            "subjects" : [
                                "maths", 
                                "physics"
                            ],
                            "grades" : "X, XI, XII",
                            "boards" : "CBSE, ICSE",
                            "rating": "5"
                        }
                    },
                    "start": { // Will be in UTC
                        "time": {
                            "timestamp": "2021-03-23T10:00:40.065Z"
                        }
                    },
                    "end": { // Will be in UTC
                        "time": {
                            "timestamp": "2021-03-23T10:00:40.065Z"
                        }
                    }
                }
            ]
        }
    }
}



BAP requests for support on the session enrolled by a mentee - 

{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "ref_id": "123442424"
    }
}




BPP send support contat details - 

{
    "context": {
        "domain": "mentoring",
        "country": "IND",
        "city": "std:080",
        "action": "search",
        "core_version": "0.9.3",
        "bap_id": "exampleapp.io",
        "bap_uri": "https://api.exampleapp.io/dsep/v0/",
        "message_id": "5ac3dd78-829e-4c7d-9139-a15adbb582cc",
        "timestamp": "2021-03-23T10:00:40.065Z",
        "transaction_id" : "UUID_GENERATED_BY_BAP" // BPP send this in the response header whether its a success or not?
    },
    "message": {
        "phone": "1234567890",
        "email": "contact@example.com",
        "uri": "https://www.support.com"
    }
}


Rating and Feedback - At present the rating and on_rating API doesnt seem to match with the aim. rating call doesnt have order id and there is no API structure defined for submitting the form BAP has got in the on_rating response.

               
https://app.swaggerhub.com/apis-docs/beckn/beckn-protocol-core-specification/1.0.0-draft#/Beckn%20App%20Platform%20(BAP)/post_on_search
https://docs.google.com/spreadsheets/d/1I5QrbxZKN0yem0TdQkR-zI5KkLYz9M3QG9TGRFgJGCQ/edit#gid=1739564754
https://app.swaggerhub.com/apis/AKS301190/DSEP4Aug/2#/Beckn%20App%20Platform%20(BAP)/post_on_search
https://github.com/beckn/DSEP-Specification/discussions/34

